import java.util.ArrayList;
import java.util.Scanner;

/**
 * 
 */

/**
 * @author David Tigreros
 * 10/15/2016
 * Survey Maker
 * 
 * Main Menu
 */
public class Menu {

	public String options[] = {"1) Survey Menu", "2) Test Menu"};
	public String creationOptions[] = {"1) Add a new T/F question", "2) Add new multiple choice questions",
			"3) Add a new short answer question","4) Add a new essay question", 
			"5) Add a new ranking question", "6) Add a new matching question",
			"7) Quit"};
	
	public Menu(){
	}
	
	public void startMenu()
	{
		for(String option: options)
		{
			System.out.println(option);
		}
		getNextMenu();
	}
	
	public void display(String[] options)
	{
		for(String option: options)
		{
			System.out.println(option);
		}
	}
	
	public Menu getNextMenu()
	{
		String choice = getResponse();
		switch(choice)
		{
		case "1": SurveyMenu sMenu = new SurveyMenu();
				return sMenu;
		case "2": TestMenu tMenu = new TestMenu();
				return tMenu;
		}
		SurveyMenu safeMenu = new SurveyMenu();
		return safeMenu;
	}
	
	public String getResponse()
	{
		Scanner input = new Scanner(System.in);
		String choice = input.nextLine();
		return choice;
	
	}
	
	
	
	public void createNewQuestion(Question q)
	{
		System.out.println("Enter the prompt for your "+q.getQuestionFormat() + " question: ");
		q.setPrompt(getResponse());
	}
	
	public void creationMenu(Survey current)
	{
		
		display(creationOptions);
		String choice = getResponse();
		
		switch(choice)
		{
			case "1" : TrueFalse newTF = new TrueFalse();
						createNewQuestion(newTF);
						current.addQuestion(newTF);
						current.setCorrectResponse(newTF);
						creationMenu(current);
			case "2": MultipleChoice newMC = new MultipleChoice();
						createNewQuestion(newMC);
						System.out.println("Enter the choices, place a comma after each choice: ");
						newMC.addChoices(getResponse());
						current.addQuestion(newMC);
						current.setCorrectResponse(newMC);
						creationMenu(current);
			case "3": ShortAnswer newSA = new ShortAnswer();
						createNewQuestion(newSA);
						current.addQuestion(newSA);
						creationMenu(current);
			case "4": Essay newEssay = new Essay();
						createNewQuestion(newEssay);
						current.addQuestion(newEssay);
						creationMenu(current);
			case "5": Ranking newRank = new Ranking();
						createNewQuestion(newRank);
						current.addQuestion(newRank);
						break;
			case "6":  Matching newMatch = new Matching();
						createNewQuestion(newMatch);
						current.addQuestion(newMatch);
						creationMenu(current);
			case "7": System.out.println("Terminating Test Maker...");
						//TestMenu();
						break;
			default: System.out.println("Invalid Input please Try again");
						creationMenu(current);
						break;
		}
		
	}
	
	public void loadMenu()
	{
		//method for loading previously created survey's or tests
	}
	
	public void saveMenu()
	{
		
	}
	
}
